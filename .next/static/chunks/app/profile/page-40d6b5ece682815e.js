(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{5254:(e,r,a)=>{Promise.resolve().then(a.bind(a,261))},261:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>h});var s=a(5155),l=a(1620),t=a(2615),d=a(6046),i=a(2115),o=a(7923),n=a(9606);let c=()=>{var e,r,a,t;let{profile:d,fetchProfile:c}=(0,l.x)(),{register:m,handleSubmit:g,setValue:x,formState:{errors:u,isSubmitting:h}}=(0,n.mN)({defaultValues:{phoneNumber:(null==d?void 0:d.phoneNumber)||"",address:(null==d?void 0:d.address)||"",firstName:(null==d?void 0:null===(e=d.user)||void 0===e?void 0:e.firstName)||"",lastName:(null==d?void 0:null===(r=d.user)||void 0===r?void 0:r.lastName)||""}});(0,i.useEffect)(()=>{var e,r;x("phoneNumber",(null==d?void 0:d.phoneNumber)||""),x("address",(null==d?void 0:d.address)||""),x("firstName",(null==d?void 0:null===(e=d.user)||void 0===e?void 0:e.firstName)||""),x("lastName",(null==d?void 0:null===(r=d.user)||void 0===r?void 0:r.lastName)||"")},[d,x]);let p=async e=>{console.log("data");try{await o.K.put("user/profile",{phoneNumber:e.phoneNumber,address:e.address,firstName:e.firstName,lastName:e.lastName}),c()}catch(e){console.log("Error updating profile",e)}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Personal Information"}),(0,s.jsx)("div",{className:"h-px flex-1 bg-gray-700 mx-4"})]}),(0,s.jsxs)("form",{onSubmit:g(p),className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 shadow-lg",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...m("firstName",{required:"First name is required"}),placeholder:"First Name",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),u.firstName&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.firstName.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{placeholder:"Last Name",...m("lastName",{required:"Last name is required"}),className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),u.lastName&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.lastName.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...m("phoneNumber",{required:"Phone number is required"}),placeholder:"Phone Number",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),u.phoneNumber&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.phoneNumber.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...m("address",{required:"Address is required"}),placeholder:"Address",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),u.address&&(0,s.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.address.message})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,s.jsx)("div",{children:d&&(0,s.jsxs)("div",{className:"group bg-gray-800/30 backdrop-blur-sm rounded-lg p-3 border border-gray-700/50",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Created At"}),(0,s.jsx)("div",{className:"text-gray-300",children:new Date(null===(a=d.user)||void 0===a?void 0:a.createdAt).toLocaleDateString()})]})}),(0,s.jsx)("div",{children:d&&(0,s.jsxs)("div",{className:"group bg-gray-800/30 backdrop-blur-sm rounded-lg p-3 border border-gray-700/50",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400",children:"Updated At"}),(0,s.jsx)("div",{className:"text-gray-300",children:new Date(null===(t=d.user)||void 0===t?void 0:t.updatedAt).toLocaleDateString()})]})})]}),(0,s.jsx)("button",{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 text-white p-3 rounded-lg font-medium hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Updating...":"Update Profile"})]})]})};var m=a(5482),g=a(5565),x=a(531),u=a(5041);function h(){var e,r;let[a,n]=(0,i.useState)(!1),{data:h,status:p}=(0,t.useSession)(),b=(0,d.useRouter)(),{profile:N,fetchProfile:f}=(0,l.x)(),{applicants:v,fetchApplicants:y}=(0,m.B)();(0,i.useEffect)(()=>{if("unauthenticated"===p){b.replace("/");return}y()},[p,h,b]);let[j,w]=(0,i.useState)(!1),k=async e=>{var r;let a=null===(r=e.target.files)||void 0===r?void 0:r[0];if(a)try{w(!0);let e=new FormData;e.append("file",a),await o.K.put("user/profile/company-logos",e,{headers:{"Content-Type":"multipart/form-data"}}),await f()}catch(e){console.error("Error uploading logo:",e)}finally{w(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-[#01070a] text-white pb-12 pt-40",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 flex justify-between items-start rounded-lg p-8 mb-8 border border-gray-700",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4 text-white",children:"Profile"}),(0,s.jsx)("p",{className:"text-gray-300",children:null==N?void 0:null===(e=N.user)||void 0===e?void 0:e.email})]}),(0,s.jsx)("div",{className:"bg-green-700 text-gray-300 px-3 py-1 rounded-full text-sm mt-2 inline-block",children:null==N?void 0:null===(r=N.user)||void 0===r?void 0:r.role})]}),(0,s.jsx)(c,{}),(0,s.jsxs)("div",{className:"flex items-center justify-between my-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Company Logos"}),(0,s.jsx)("div",{className:"h-px flex-1 bg-gray-700 mx-4"}),(0,s.jsxs)("label",{className:"relative cursor-pointer",children:[(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",disabled:j}),(0,s.jsx)("span",{className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-medium hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg disabled:opacity-50",children:j?(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Add New Logo"})]})]}),(0,s.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 shadow-lg my-8",children:(null==N?void 0:N.companyLogos)&&N.companyLogos.length>0?(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:N.companyLogos.map(e=>(0,s.jsxs)("div",{className:"group relative bg-gray-800/30 backdrop-blur-sm rounded-lg p-4 border border-gray-700/50 hover:bg-gray-800/50 transition-all duration-200",children:[(0,s.jsx)(g.default,{src:e.url,alt:e.name,width:e.width||200,height:e.height||200,className:"w-full h-32 object-contain rounded-lg"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gray-900/80 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-lg flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center p-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString()}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[e.width,"x",e.height,"px"]})]})})]},e.id))}):(0,s.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No company logos uploaded yet"})}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold  text-white",children:"Applicants"}),(0,s.jsx)("div",{className:"h-px flex-1 bg-gray-700 mx-4"}),(0,s.jsx)("button",{onClick:()=>n(!0),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-medium hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg disabled:opacity-50",children:"Add New Applicant"})]}),(null==v?void 0:v.length)>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>(0,s.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-6 shadow-md hover:shadow-lg transition-shadow border border-gray-700 cursor-pointer",children:[(0,s.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:e.firstName+" "+e.lastName}),(0,s.jsx)("p",{className:"text-gray-400",children:"Position"})]})}),(0,s.jsx)("p",{className:"text-gray-300 mb-4",children:e.email}),(0,s.jsx)("p",{className:"text-gray-300 mb-4",children:e.phone}),(0,s.jsx)("a",{href:"/applicant/".concat(null==e?void 0:e.id),className:"mt-4 block font-bold w-full text-center bg-orange-600 hover:bg-orange-400 text-white py-2 rounded-md transition-colors",children:"View Details"})]},e.id))}):(0,s.jsx)("p",{className:"text-xl",children:"No applicant added"}),(0,s.jsx)("div",{className:"flex w-full justify-end py-8",children:(0,s.jsx)("button",{onClick:()=>b.push("/applicant"),className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-medium hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg disabled:opacity-50",children:"View all"})})]}),(0,s.jsx)(x.A,{isOpen:a,onClose:()=>n(!1),children:(0,s.jsx)(u.A,{onClose:()=>n(!1)})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[825,260,571,441,517,358],()=>r(5254)),_N_E=e.O()}]);