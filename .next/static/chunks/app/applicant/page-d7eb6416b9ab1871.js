(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[111],{3387:(e,t,s)=>{Promise.resolve().then(s.bind(s,5957))},5957:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5155),r=s(5482),n=s(8888),i=s(2615),l=s(6046),o=s(2115);function c(){let{data:e,status:t}=(0,i.useSession)(),s=(0,l.useRouter)(),{applicants:c,page:d,setPage:h,pages:u,fetchApplicants:p}=(0,r.B)();return(0,o.useEffect)(()=>{if("unauthenticated"===t){s.replace("/");return}p()},[t,e,s]),(0,a.jsx)(n.P.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"relative min-h-screen w-full bg-[#01070a] pt-40",children:(0,a.jsxs)("div",{className:"container mx-auto h-full flex flex-col justify-evenly relative z-10",children:[(0,a.jsxs)("div",{className:"flex-col px-8 space-y-8 text-white",children:[(0,a.jsx)("p",{className:"text-6xl font-bold max-w-lg",children:"Find Your Next AI Talent"}),(0,a.jsx)("p",{className:"text-3xl font-medium",children:"Browse through our pool of AI-specialized candidates"})]}),(0,a.jsxs)(n.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},className:"rounded-lg p-8 mt-8",children:[(null==c?void 0:c.length)>0?(0,a.jsx)(n.P.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(e=>(0,a.jsxs)(n.P.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},transition:{duration:.2},className:"bg-gray-800 rounded-lg p-6 shadow-md hover:shadow-lg transition-shadow border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:e.firstName+" "+e.lastName}),(0,a.jsx)("p",{className:"text-gray-400",children:"AI Engineer"})]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-indigo-900 text-indigo-200",children:"Available"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 mb-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,a.jsx)("span",{children:e.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,a.jsx)("span",{children:e.phone})]})]}),(0,a.jsx)("a",{href:"/applicant/".concat(null==e?void 0:e.id),className:"mt-4 block w-full text-center bg-orange-600 hover:bg-orange-400 text-white py-2 rounded-md transition-colors",children:"View Details"})]},e.cvId))}):(0,a.jsx)(n.P.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xl text-white text-center",children:"No applicants available at the moment"}),(null==c?void 0:c.length)>0&&(0,a.jsxs)(n.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex justify-end items-center mt-8 space-x-4",children:[(0,a.jsx)("button",{onClick:()=>h(d-1),disabled:1===d,className:"rounded-full disabled:opacity-50 h-10 w-10 bg-gray-700 flex items-center justify-center hover:bg-gray-600 transition-colors",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-5 h-5 text-white",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M15 19l-7-7 7-7"})})}),(0,a.jsxs)("p",{className:"text-lg font-bold text-white",children:[d," ",(0,a.jsxs)("span",{className:"opacity-50",children:["of ",u]})]}),(0,a.jsx)("button",{onClick:()=>h(d+1),disabled:d===u,className:"rounded-full h-10 w-10 disabled:opacity-50 bg-gray-700 flex items-center justify-center hover:bg-gray-600 transition-colors",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-5 h-5 text-white",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M9 5l7 7-7 7"})})})]})]})]})})}},7923:(e,t,s)=>{"use strict";s.d(t,{K:()=>f});var a=s(2615);let r=(e,t)=>{t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t))},n={token:null,expiry:0},i=async()=>{let e=Date.now();if(n.token&&n.expiry>e)return n.token;let t=await (0,a.getSession)();return t&&t.user.accessToken?(n.token=t.user.accessToken,n.expiry=e+3e5,n.token):null},l=e=>{e.interceptors.request.use(async e=>{try{let t=await i();t&&r(e,t)}catch(e){console.error("Error fetching token",e)}return e},e=>Promise.reject(e))};var o=s(2651);class c{async refreshToken(){return f.responseHandler(await f.get("auth/refresh"))}}let d=new c,h=async e=>{let t=await (0,a.getSession)(),s=null==t?void 0:t.user.refreshToken;e.interceptors.response.use(e=>e,async e=>{if(console.log("2 refresh ::::"),e.response){if(401===e.response.status){if(s)return await (0,a.getSession)().then(t=>{if(t){var s,a;(null==t?void 0:null===(s=t.user)||void 0===s?void 0:s.refreshToken)&&r(e.config,null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.refreshToken)}}),d.refreshToken().then(e=>e).then(t=>(r(e.config,t.accessToken),o.A.request(e.config))).catch(()=>{});console.log("8 refresh ::::")}}else{if(console.log("3 refresh ::::"),"Network Error"===e.message)throw console.log("4 refresh ::::"),console.error("Network error - server is probably down"),e;throw console.log("5 refresh ::::"),console.error("Unknown error",e),e}return e.response})},u=function(e){if(e.status>=200&&e.status<300)return e;throw e.data};class p{static getInstance(){return p.instance||(p.instance=o.A.create({baseURL:"https://arrow-agency-back-production.up.railway.app/api/",timeout:12e4})),p.instance}}let x=e=>{l(e),h(e)};class g{responseHandler(e){let{data:t}=e;return t}async get(e,t){return u(await this._httpClient.get(e,t))}async post(e,t,s){return u(await this._httpClient.post(e,t,s))}async patch(e,t,s){return u(await this._httpClient.patch(e,t,s))}async put(e,t,s){return u(await this._httpClient.put(e,t,s))}async delete(e,t,s){let a=s||{};return t&&(a.data=t),u(await this._httpClient.delete(e,a))}constructor(){this._httpClient=p.getInstance(),x(this._httpClient)}}let f=new g},6046:(e,t,s)=>{"use strict";var a=s(6658);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},5482:(e,t,s)=>{"use strict";s.d(t,{ApplicantsProvider:()=>o,B:()=>c});var a=s(5155),r=s(2115),n=s(7923),i=s(2615);let l=(0,r.createContext)({applicants:[],loading:!1,error:null,page:1,setPage:()=>{},limit:6,setLimit:()=>{},type:"asc",setType:()=>{},technologies:[],setTechnologies:()=>{},pages:1,fetchApplicants:async()=>{}}),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0),[h,u]=(0,r.useState)(null),[p,x]=(0,r.useState)(1),[g,f]=(0,r.useState)(6),[m,w]=(0,r.useState)("asc"),[y,v]=(0,r.useState)([]),[j,k]=(0,r.useState)(1),{data:N,status:b}=(0,i.useSession)(),C=async()=>{d(!0);try{var e;if(null==N?void 0:null===(e=N.user)||void 0===e?void 0:e.accessToken){let e=await n.K.get("applicant",{params:{page:p,limit:g,type:m,technologies:y}});o(e.data.results||[]),k(e.data.pages||1)}}catch(e){console.error("Error fetching applicants:",e),u("Failed to fetch applicants.")}finally{d(!1)}};return(0,r.useEffect)(()=>{"authenticated"===b&&C()},[b,N,p,g,m,y]),(0,a.jsx)(l.Provider,{value:{applicants:s,loading:c,error:h,page:p,setPage:x,limit:g,setLimit:f,type:m,setType:w,technologies:y,setTechnologies:v,pages:j,fetchApplicants:C},children:t})},c=()=>(0,r.useContext)(l)}},e=>{var t=t=>e(e.s=t);e.O(0,[825,888,441,517,358],()=>t(3387)),_N_E=e.O()}]);