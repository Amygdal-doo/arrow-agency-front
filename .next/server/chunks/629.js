"use strict";exports.id=629,exports.ids=[629],exports.modules={30447:(e,a,r)=>{r.d(a,{A:()=>p});var s=r(45512),t=r(6868),l=r(16131),o=r(81914),n=r(58009),i=r(8620),d=r(67234),m=r(45103),c=r(49834);let g=l.z.object({name:l.z.string().min(2,{message:"Name must be at least 2 characters."}),logoId:l.z.string().min(2,{message:"Logo must be selected."}),templateId:l.z.string().min(2,{message:"Template must be selected."}),companyName:l.z.string().min(2,{message:"Company Name must be at least 2 characters."}),surname:l.z.string().min(2,{message:"Surname must be at least 2 characters."}),email:l.z.string().email({message:"Invalid email address."}),phone:l.z.string().min(6,{message:"Phone number must be valid."}),file:l.z.instanceof(File,{message:"File is required and must be a PDF."}).refine(e=>"application/pdf"===e.type,{message:"Only PDF files are allowed."}),technologies:l.z.array(l.z.string()).optional()}),p=({onClose:e})=>{let{profile:a}=(0,d.x)(),[r,l]=(0,n.useState)(null),[p,u]=(0,n.useState)([]),[x,h]=(0,n.useState)(""),[b,y]=(0,n.useState)(!1),[f,j]=(0,n.useState)(null),[v,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(""),{fetchApplicants:C}=(0,c.B)(),z=[{id:"cv2",name:"Modern Template"},{id:"cv3",name:"Professional Template"},{id:"cv4",name:"Creative Template"}],{register:S,handleSubmit:L,setValue:F,setError:I,clearErrors:D,formState:{errors:P}}=(0,t.mN)({resolver:(0,o.u)(g),defaultValues:{companyName:"",name:"",surname:"",email:"",phone:"",technologies:[],logoId:"",templateId:""}}),T=async a=>{console.log("Form Data:",a);try{let r=new FormData;r.append("name",a.name),r.append("companyName",a.companyName),r.append("surname",a.surname),r.append("email",a.email),r.append("phone",a.phone),r.append("logoId",a.logoId),r.append("templateId",a.templateId),a.file&&r.append("file",a.file),a.technologies&&a.technologies.length>0&&a.technologies.forEach(e=>r.append("technologies[]",e));let s=await i.K.post("applicant/create",r,{headers:{"Content-Type":"multipart/form-data"}});return console.log("CV Saved Successfully:",s.data),e(),C(),s.data}catch(e){throw console.error("Error saving CV:",e),e}},M=()=>{if(""!==x.trim()){let e=[...p,x];u(e),F("technologies",e),h("")}},V=e=>{let a=p.filter((a,r)=>r!==e);u(a),F("technologies",a)};return(0,s.jsxs)("div",{className:"space-y-6 p-8 max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Create CV"}),(0,s.jsx)("div",{className:"h-px flex-1 bg-gray-700 mx-4"})]}),(0,s.jsxs)("form",{onSubmit:L(T),className:"space-y-6 overflow-x-auto max-h-[80vh]",children:[(0,s.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 shadow-lg relative z-20",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"CV Template"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{onClick:()=>N(!v),className:"bg-gray-700/50 border border-gray-600/50 rounded-lg p-4 text-gray-300 cursor-pointer flex items-center justify-between",children:[(0,s.jsx)("span",{className:w?"text-gray-300":"text-gray-500",children:w?z.find(e=>e.id===w)?.name:"Select Template"}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${v?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-2 bg-gray-800 backdrop-blur-sm border border-gray-700 rounded-lg shadow-xl",children:z.map(e=>(0,s.jsx)("div",{onClick:()=>{k(e.id),F("templateId",e.id),N(!1)},className:"p-4 cursor-pointer hover:bg-gray-700 transition-colors text-gray-300",children:e.name},e.id))})]}),P.templateId&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.templateId.message})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 shadow-lg relative z-10",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Company Logo"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{onClick:()=>y(!b),className:"bg-gray-700/50 border border-gray-600/50 rounded-lg p-4 text-gray-300 cursor-pointer flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-3",children:f?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.default,{src:f.url,alt:f.name,width:40,height:40,className:"rounded-md"}),(0,s.jsx)("span",{children:f.name})]}):(0,s.jsx)("span",{className:"text-gray-500",children:"Select Company Logo"})}),(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${b?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),b&&a?.companyLogos&&(0,s.jsx)("div",{className:"absolute z-50 w-full mt-2 bg-gray-800 backdrop-blur-sm border border-gray-700 rounded-lg shadow-xl",children:a.companyLogos.map(e=>(0,s.jsxs)("div",{onClick:()=>{j(e),y(!1),F("logoId",e.id)},className:"flex items-center gap-3 p-4 cursor-pointer hover:bg-gray-700 transition-colors",children:[(0,s.jsx)(m.default,{src:e.url,alt:e.name,width:40,height:40,className:"rounded-md"}),(0,s.jsx)("span",{className:"text-gray-300",children:e.name})]},e.id))})]})]}),(0,s.jsx)("div",{className:"bg-gray-800/50 backdrop-blur-sm relative z-0 rounded-xl p-6 border border-gray-700/50 shadow-lg",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...S("companyName"),placeholder:"Company Name",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),P.companyName&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.companyName.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...S("name"),placeholder:"First Name",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),P.name&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...S("surname"),placeholder:"Last Name",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),P.surname&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.surname.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...S("email"),type:"email",placeholder:"Email",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),P.email&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.email.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{...S("phone"),placeholder:"Phone Number",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),P.phone&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.phone.message})]})]})}),(0,s.jsxs)("div",{className:"bg-gray-800/50  relative z-0 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 shadow-lg",children:[(0,s.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{let a=e.target.files?.[0];if(!a){I("file",{type:"manual",message:"File is required and must be a PDF."});return}if("application/pdf"!==a.type){I("file",{type:"manual",message:"Only PDF files are allowed."});return}l(a.name),F("file",a),D("file")},className:"hidden",id:"file-upload"}),(0,s.jsxs)("label",{htmlFor:"file-upload",className:"w-full bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-all",children:[(0,s.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Upload PDF Resume"]}),r&&(0,s.jsxs)("p",{className:"mt-2 text-orange-400 text-sm flex items-center",children:[(0,s.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),r]}),P.file&&(0,s.jsx)("p",{className:"mt-1 text-red-400 text-sm",children:P.file.message})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 relative z-0 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 shadow-lg",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-4",children:"Technologies"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),M())},placeholder:"Add technology",className:"w-4/5 bg-gray-700/50 border border-gray-600/50 rounded-lg p-3 text-gray-300 placeholder-gray-500 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all"}),(0,s.jsx)("button",{type:"button",onClick:M,className:"px-1 sm:px-4 w-1/5 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg font-medium hover:from-orange-700 hover:to-orange-800 transition-all duration-200",children:"Add"})]}),(0,s.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:p.map((e,a)=>(0,s.jsxs)("div",{className:"group bg-gray-700/50 px-3 py-1.5 rounded-lg flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-gray-300",children:e}),(0,s.jsx)("button",{type:"button",onClick:()=>V(a),className:"text-gray-400 hover:text-red-400 transition-colors",children:"\xd7"})]},a))})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-orange-700 text-white p-3 rounded-lg font-medium hover:from-orange-700 hover:to-orange-800 transition-all duration-200 shadow-lg",children:"Create CV"})]})]})}},46055:(e,a,r)=>{r.r(a),r.d(a,{default:()=>t});var s=r(88077);let t=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};