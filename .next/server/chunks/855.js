exports.id=855,exports.ids=[855],exports.modules={18905:(e,t,s)=>{Promise.resolve().then(s.bind(s,73672)),Promise.resolve().then(s.bind(s,80998)),Promise.resolve().then(s.bind(s,21862)),Promise.resolve().then(s.bind(s,66486))},89529:(e,t,s)=>{Promise.resolve().then(s.bind(s,82212)),Promise.resolve().then(s.bind(s,49834)),Promise.resolve().then(s.bind(s,23610)),Promise.resolve().then(s.bind(s,67234))},98400:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,40802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},85248:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,57174,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},60881:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(45512),a=s(6868),n=s(16131),o=s(81914),i=s(58009),l=s(90993);let c=n.z.object({email:n.z.string().email({message:"Invalid email address."}),password:n.z.string().min(6,{message:"Password must be at least 6 characters."})}),d=({toggleContent:e,onClose:t})=>{let[s]=(0,i.useState)(!1),[n,d]=(0,i.useState)(""),{register:p,handleSubmit:m,formState:{errors:u}}=(0,a.mN)({resolver:(0,o.u)(c)}),h=async e=>{d(""),console.log("login data",e);let s=await (0,l.signIn)("credentials",{email:e.email,password:e.password,redirect:!1});if(s&&t(),s?.error){console.error("Sign-in error:",s.error),d(s.error);return}};return(0,r.jsxs)("form",{onSubmit:m(h),className:"w-full max-w-md mx-auto space-y-4 pb-16 pt-8 px-8 rounded-md shadow-2xl",children:[(0,r.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-text-[#0a0a23] pr-10",children:"Amygdal"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-600 pl-20",children:"CV Editor"})]}),(0,r.jsx)("div",{className:"py-4 px-16",children:(0,r.jsx)("p",{className:"text-gray-500 font-medium text-center",children:"Please enter your email and password to log in."})}),n&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:n}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold",children:"Email"}),(0,r.jsx)("input",{...p("email"),type:"email",className:"w-full border p-2 rounded"}),u.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold",children:"Password"}),(0,r.jsx)("input",{...p("password"),type:"password",className:"w-full border p-2 rounded"}),u.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u.password.message})]}),(0,r.jsxs)("p",{className:"text-gray-500 font-medium text-md",children:["Don't have an account?",(0,r.jsxs)("span",{onClick:e,className:"text-purple-600 font-bold cursor-pointer",children:[" ","Sign up here"]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-purple-600 text-sm font-bold text-white p-2 rounded",disabled:s,children:s?"Logging in...":"Login"})]})}},63287:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(45512),a=s(53583);let n=({isOpen:e,onClose:t,children:s})=>e?(0,r.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-[#0a0a23] bg-opacity-50 z-50",children:(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-md mx-auto",children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close",children:(0,r.jsx)(a.A,{className:"w-6 h-6"})}),s]})}):null},82212:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var r=s(45512),a=s(45103),n=s(28531),o=s.n(n),i=s(58009),l=s(60881),c=s(63287),d=s(64395),p=s(90993),m=s(67234),u=s(79334);let h=()=>{let e=(0,u.useRouter)(),{data:t,status:s}=(0,p.useSession)(),{profile:n}=(0,m.x)(),[h,x]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),v=()=>{b(!f)},g=(e="",t="")=>`${e.charAt(0)}${t.charAt(0)}`.toUpperCase();return(0,r.jsxs)("nav",{className:"w-full bg-black p-1",children:[(0,r.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-16",children:[(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(a.default,{src:"/arrow.png",alt:"Arrow",height:3e3,width:4e3,className:"w-24"})}),(0,r.jsxs)("ul",{className:"flex space-x-10",children:[(0,r.jsx)(o(),{href:"/for-talent",children:(0,r.jsx)("li",{className:"text-white hover:underline font-medium text-xl",children:"Jobs"})}),(0,r.jsx)(o(),{href:"/for-talent",children:(0,r.jsx)("li",{className:"text-white hover:underline font-medium text-xl",children:"For Talent"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:["authenticated"===s&&t?.user?.accessToken&&(0,r.jsx)("button",{onClick:()=>e.push("/profile"),className:"w-10 h-10 flex items-center justify-center bg-gray-700 text-white rounded-full text-sm font-bold",children:n?.user?g(n.user.firstName,n.user.lastName):g(t.user.profile?.firstName,t.user.profile?.lastName)}),(0,r.jsx)("button",{onClick:()=>{"authenticated"===s&&t?.user?.accessToken?(0,p.signOut)():x(!0)},className:"bg-white px-6 py-2 rounded-md text-[#0a0a23] font-bold",children:"authenticated"===s&&t?.user?.accessToken?"Log out":"Login"}),(0,r.jsx)(o(),{href:"/post-job",children:(0,r.jsx)("button",{className:"bg-orange-600 hover:bg-orange-400 px-6 py-2 rounded-md text-white font-bold",children:"Post a Job"})})]})]}),(0,r.jsx)(c.A,{isOpen:h,onClose:()=>x(!1),children:f?(0,r.jsx)(l.A,{toggleContent:v,onClose:()=>x(!1)}):(0,r.jsx)(d.A,{toggleContent:v})})]})}},64395:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(45512),a=s(8620),n=s(81914),o=s(58009),i=s(6868),l=s(16131);let c=l.z.object({firstName:l.z.string().min(2,{message:"First name must be at least 2 characters."}),lastName:l.z.string().min(2,{message:"Last name must be at least 2 characters."}),email:l.z.string().email({message:"Invalid email address."}),password:l.z.string().min(6,{message:"Password must be at least 6 characters."})}),d=({toggleContent:e})=>{let[t,s]=(0,o.useState)(!1),[l,d]=(0,o.useState)(""),{register:p,handleSubmit:m,formState:{errors:u}}=(0,i.mN)({resolver:(0,n.u)(c)}),h=async t=>{console.log("Registration successful:",t),s(!0),d("");try{await a.K.post("auth/register",t),e()}catch(e){d(`Failed to register. Please try again. Error: ${JSON.stringify(e)}`)}finally{s(!1)}};return(0,r.jsxs)("form",{onSubmit:m(h),className:"w-full max-w-md mx-auto space-y-4 pb-16 pt-8 px-8 rounded-md shadow-2xl",children:[(0,r.jsxs)("div",{className:"flex justify-center flex-col items-center",children:[(0,r.jsx)("p",{className:"text-2xl font-bold text-text-[#0a0a23] pr-10",children:"Amygdal"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-purple-600 pl-20",children:"CV Editor"})]}),(0,r.jsx)("div",{className:"py-4 px-16",children:(0,r.jsx)("p",{className:"text-gray-500 font-medium text-center",children:"Please enter your details to create an account."})}),l&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:l}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold",children:"First Name"}),(0,r.jsx)("input",{...p("firstName"),type:"text",className:"w-full border p-2 rounded"}),u.firstName&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u.firstName.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold",children:"Last Name"}),(0,r.jsx)("input",{...p("lastName"),type:"text",className:"w-full border p-2 rounded"}),u.lastName&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u.lastName.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold",children:"Email"}),(0,r.jsx)("input",{...p("email"),type:"email",className:"w-full border p-2 rounded"}),u.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u.email.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-bold",children:"Password"}),(0,r.jsx)("input",{...p("password"),type:"password",className:"w-full border p-2 rounded"}),u.password&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:u.password.message})]}),(0,r.jsxs)("p",{className:"text-gray-500 font-medium text-md",children:["Already have an account?",(0,r.jsxs)("span",{onClick:e,className:"text-purple-600 font-bold cursor-pointer",children:[" ","Log in here"]})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-purple-600 text-sm font-bold text-white p-2 rounded",disabled:t,children:t?"Registering...":"Register"})]})}},8620:(e,t,s)=>{"use strict";s.d(t,{K:()=>f});var r=s(90993);let a=(e,t)=>{t&&e.headers&&(e.headers.Authorization=`Bearer ${t}`)},n={token:null,expiry:0},o=async()=>{let e=Date.now();if(n.token&&n.expiry>e)return n.token;let t=await (0,r.getSession)();return t&&t.user.accessToken?(n.token=t.user.accessToken,n.expiry=e+3e5,n.token):null},i=e=>{e.interceptors.request.use(async e=>{try{let t=await o();t&&a(e,t)}catch(e){console.error("Error fetching token",e)}return e},e=>Promise.reject(e))};var l=s(85668);class c{async refreshToken(){return f.responseHandler(await f.get("auth/refresh"))}}let d=new c,p=async e=>{let t=await (0,r.getSession)(),s=t?.user.refreshToken;e.interceptors.response.use(e=>e,async e=>{if(console.log("2 refresh ::::"),e.response){if(401===e.response.status){if(s)return await (0,r.getSession)().then(t=>{t&&t?.user?.refreshToken&&a(e.config,t?.user?.refreshToken)}),d.refreshToken().then(e=>e).then(t=>(a(e.config,t.accessToken),l.A.request(e.config))).catch(()=>{});console.log("8 refresh ::::")}}else{if(console.log("3 refresh ::::"),"Network Error"===e.message)throw console.log("4 refresh ::::"),console.error("Network error - server is probably down"),e;throw console.log("5 refresh ::::"),console.error("Unknown error",e),e}return e.response})},m=function(e){if(e.status>=200&&e.status<300)return e;throw e.data};class u{static getInstance(){return u.instance||(u.instance=l.A.create({baseURL:"https://whale-app-z5sve.ondigitalocean.app/api/",timeout:12e4})),u.instance}}let h=e=>{i(e),p(e)};class x{constructor(){this._httpClient=u.getInstance(),h(this._httpClient)}responseHandler({data:e}){return e}async get(e,t){return m(await this._httpClient.get(e,t))}async post(e,t,s){return m(await this._httpClient.post(e,t,s))}async patch(e,t,s){return m(await this._httpClient.patch(e,t,s))}async put(e,t,s){return m(await this._httpClient.put(e,t,s))}async delete(e,t,s){let r=s||{};return t&&(r.data=t),m(await this._httpClient.delete(e,r))}}let f=new x},49834:(e,t,s)=>{"use strict";s.d(t,{ApplicantsProvider:()=>l,B:()=>c});var r=s(45512),a=s(58009),n=s(8620),o=s(90993);let i=(0,a.createContext)({applicants:[],loading:!1,error:null,page:1,setPage:()=>{},limit:6,setLimit:()=>{},type:"asc",setType:()=>{},technologies:[],setTechnologies:()=>{},pages:1,fetchApplicants:async()=>{}}),l=({children:e})=>{let[t,s]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[d,p]=(0,a.useState)(null),[m,u]=(0,a.useState)(1),[h,x]=(0,a.useState)(6),[f,b]=(0,a.useState)("asc"),[v,g]=(0,a.useState)([]),[j,w]=(0,a.useState)(1),{data:y,status:N}=(0,o.useSession)(),P=async()=>{c(!0);try{if(y?.user?.accessToken){let e=await n.K.get("applicant",{params:{page:m,limit:h,type:f,technologies:v}});s(e.data.results||[]),w(e.data.pages||1)}}catch(e){console.error("Error fetching applicants:",e),p("Failed to fetch applicants.")}finally{c(!1)}};return(0,a.useEffect)(()=>{"authenticated"===N&&P()},[N,y,m,h,f,v]),(0,r.jsx)(i.Provider,{value:{applicants:t,loading:l,error:d,page:m,setPage:u,limit:h,setLimit:x,type:f,setType:b,technologies:v,setTechnologies:g,pages:j,fetchApplicants:P},children:e})},c=()=>(0,a.useContext)(i)},23610:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(45512),a=s(90993);s(58009);let n=e=>(0,r.jsx)(a.SessionProvider,{children:e.children})},67234:(e,t,s)=>{"use strict";s.d(t,{ProfileProvider:()=>c,x:()=>d});var r=s(45512),a=s(58009),n=s(79334),o=s(90993),i=s(8620);let l=(0,a.createContext)({profile:null,loading:!1,fetchProfile:async()=>{}}),c=({children:e})=>{let t=(0,n.useRouter)(),{data:s,status:c}=(0,o.useSession)(),[d,p]=(0,a.useState)(null),[m,u]=(0,a.useState)(!0),h=async()=>{u(!0);try{if(s?.user?.accessToken){let e=await i.K.get("user/profile");p(e.data)}}catch(e){console.error("Error fetching profile data:",e)}finally{u(!1)}};return(0,a.useEffect)(()=>{if("unauthenticated"===c){t.replace("/");return}"authenticated"===c&&h()},[c,s,t]),(0,r.jsx)(l.Provider,{value:{profile:d,loading:m,fetchProfile:h},children:e})},d=()=>(0,a.useContext)(l)},73672:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/aisabektas/projects/arrow-agency-front/app/components/Navbar.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/app/components/Navbar.tsx","default")},19611:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u,metadata:()=>m});var r=s(62740),a=s(21862),n=s(56389),o=s.n(n),i=s(51189),l=s.n(i),c=s(73672);s(82704);var d=s(66486),p=s(80998);let m={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:`${o().variable} ${l().variable} antialiased`,children:(0,r.jsx)(a.default,{children:(0,r.jsx)(d.ProfileProvider,{children:(0,r.jsx)(p.ApplicantsProvider,{children:(0,r.jsxs)("div",{className:"flex flex-col min-h-screen bg-[#0a0a23]",children:[(0,r.jsx)(c.default,{}),(0,r.jsx)("main",{className:"w-full",children:e}),(0,r.jsx)("footer",{className:"w-full bg-[#01070a] py-6 border-t border-gray-800",children:(0,r.jsxs)("div",{className:"container mx-auto px-8 flex justify-between",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{children:(0,r.jsx)("a",{href:"mailto:info@digital-arrow.agency",className:"text-gray-400 hover:text-orange-600 transition-colors text-sm",children:"info@digital-arrow.agency"})}),(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:"text-gray-400 flex space-x-4",children:[(0,r.jsx)("li",{children:"Terms and Conditions"}),(0,r.jsx)("li",{children:"Privacy Policy"})]})})]})})]})})})})})})}},80998:(e,t,s)=>{"use strict";s.d(t,{ApplicantsProvider:()=>a});var r=s(46760);(0,r.registerClientReference)(function(){throw Error("Attempted to call ApplicantsContext() from the server but ApplicantsContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/ApplicantsProvider.tsx","ApplicantsContext");let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call ApplicantsProvider() from the server but ApplicantsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/ApplicantsProvider.tsx","ApplicantsProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useApplicants() from the server but useApplicants is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/ApplicantsProvider.tsx","useApplicants")},21862:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/aisabektas/projects/arrow-agency-front/providers/NextAuthProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/NextAuthProvider.tsx","default")},66486:(e,t,s)=>{"use strict";s.d(t,{ProfileProvider:()=>a});var r=s(46760);(0,r.registerClientReference)(function(){throw Error("Attempted to call ProfileContext() from the server but ProfileContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/ProfileInfoProvider.tsx","ProfileContext");let a=(0,r.registerClientReference)(function(){throw Error("Attempted to call ProfileProvider() from the server but ProfileProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/ProfileInfoProvider.tsx","ProfileProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useProfile() from the server but useProfile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/aisabektas/projects/arrow-agency-front/providers/ProfileInfoProvider.tsx","useProfile")},82704:()=>{}};