{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aisabektas/projects/arrow-agency-front/app/profile/page.tsx"],"sourcesContent":["\"use client\";\nimport { apiService } from \"@/core/services/apiService\";\nimport { useProfile } from \"@/providers/ProfileInfoProvider\";\n\nimport { useSession } from \"next-auth/react\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\ninterface ProfileFormData {\n  firstName: string;\n  lastName: string;\n  phoneNumber: string;\n  address: string;\n}\n\nexport default function Profile() {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const { profile, fetchProfile } = useProfile();\n\n  useEffect(() => {\n    if (status === \"unauthenticated\") {\n      router.replace(\"/\");\n      return;\n    }\n  }, [status, session, router]);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors, isSubmitting },\n  } = useForm<ProfileFormData>({\n    defaultValues: {\n      phoneNumber: profile?.phoneNumber || \"\",\n      address: profile?.address || \"\",\n      firstName: profile?.firstName || \"\",\n      lastName: profile?.lastName || \"\",\n    },\n  });\n\n  useEffect(() => {\n    setValue(\"phoneNumber\", profile?.phoneNumber || \"\");\n    setValue(\"address\", profile?.address || \"\");\n    setValue(\"firstName\", profile?.firstName || \"\");\n    setValue(\"lastName\", profile?.lastName || \"\");\n  }, [profile, setValue]);\n\n  const onSubmit = async (data: ProfileFormData) => {\n    try {\n      await apiService.put(`user/profile`, {\n        phoneNumber: data.phoneNumber,\n        address: data.address,\n      });\n\n      fetchProfile();\n    } catch (error) {\n      console.log(\"Error updating profile\", error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#01070a] text-white py-12\">\n      <div className=\"container mx-auto px-4\">\n        {/* Header Section */}\n        {/* <pre className=\"text-white\">{JSON.stringify(profile, null, 2)}</pre> */}\n        <div className=\"bg-gray-800 flex justify-between items-start rounded-lg p-8 mb-8 border border-gray-700\">\n          <div>\n            <h1 className=\"text-4xl font-bold mb-4 text-white\">Profile</h1>\n            <p className=\"text-gray-300\">{profile?.email}</p>\n          </div>\n          <div className=\"bg-green-700 text-gray-300 px-3 py-1 rounded-full text-sm mt-2 inline-block\">\n            {profile?.role}\n          </div>\n        </div>\n\n        {/* Profile Form */}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAEA;AACA;AACA;AACA;AAPA;;;;;;;;AAgBe,SAAS;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,OAAO,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,iIAAA,CAAA,aAAU,AAAD;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW,mBAAmB;YAChC,OAAO,OAAO,CAAC;YACf;QACF;IACF,GAAG;QAAC;QAAQ;QAAS;KAAO;IAE5B,MAAM,EACJ,QAAQ,EACR,YAAY,EACZ,QAAQ,EACR,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,EACpC,GAAG,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAmB;QAC3B,eAAe;YACb,aAAa,SAAS,eAAe;YACrC,SAAS,SAAS,WAAW;YAC7B,WAAW,SAAS,aAAa;YACjC,UAAU,SAAS,YAAY;QACjC;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,SAAS,eAAe,SAAS,eAAe;QAChD,SAAS,WAAW,SAAS,WAAW;QACxC,SAAS,aAAa,SAAS,aAAa;QAC5C,SAAS,YAAY,SAAS,YAAY;IAC5C,GAAG;QAAC;QAAS;KAAS;IAEtB,MAAM,WAAW,OAAO;QACtB,IAAI;YACF,MAAM,8HAAA,CAAA,aAAU,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,EAAE;gBACnC,aAAa,KAAK,WAAW;gBAC7B,SAAS,KAAK,OAAO;YACvB;YAEA;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,GAAG,CAAC,0BAA0B;QACxC;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBAGb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;0CACC,8OAAC;gCAAG,WAAU;0CAAqC;;;;;;0CACnD,8OAAC;gCAAE,WAAU;0CAAiB,SAAS;;;;;;;;;;;;kCAEzC,8OAAC;wBAAI,WAAU;kCACZ,SAAS;;;;;;;;;;;;;;;;;;;;;;AAQtB"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}