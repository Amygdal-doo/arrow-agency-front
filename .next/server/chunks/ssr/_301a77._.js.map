{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/aisabektas/projects/arrow-agency-front/providers/ApplicantDetailsProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  ReactNode,\n  useContext,\n  useEffect,\n  useState,\n} from \"react\";\nimport { AxiosResponse } from \"axios\";\nimport { apiService } from \"@/core/services/apiService\";\nimport { useSession } from \"next-auth/react\";\n\nexport interface IExperience {\n  id: string;\n  position: string;\n  company: string;\n  startDate: string;\n  endDate: string;\n  description: string;\n}\n\nexport interface IProject {\n  id: string;\n  name: string;\n  description: string;\n  startDate: string;\n  endDate: string;\n  url: string;\n}\n\nexport interface IEducation {\n  id: string;\n  institution: string;\n  degree: string;\n  field: string;\n  startDate: string;\n  endDate: string;\n}\n\nexport interface ICertificate {\n  id: string;\n  name: string;\n  issuer: string;\n  issueDate: string;\n  expirationDate: string;\n  url: string;\n}\n\nexport interface ICourse {\n  id: string;\n  name: string;\n  url: string;\n  startDate: string;\n  endDate: string;\n}\n\nexport interface ISocial {\n  id: string;\n  name: string;\n  url: string;\n}\n\nexport interface ILanguage {\n  id: string;\n  name: string;\n  efficiency: string;\n}\n\nexport interface ISkill {\n  id: string;\n  name: string;\n  efficiency: string;\n  cvId: string;\n}\n\nexport interface IFile {\n  id: string;\n  name: string;\n  url: string;\n  extension: string;\n  fileCreatedAt: string;\n  userId: string;\n  applicantId: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface IDelete {\n  experience: string[];\n  education: string[];\n  projects: string[];\n  courses: string[];\n  certificates: string[];\n  languages: string[];\n  socials: string[];\n  skills: string[];\n}\n\ninterface IApplicantDetails {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  technologies: string[];\n  cv: {\n    id: string;\n    firstName: string;\n    lastName: string;\n    email: string;\n    phone: string;\n    summary: string;\n    skills: ISkill[];\n    hobbies: string[];\n    experience: IExperience[];\n    projects: IProject[];\n    educations: IEducation[];\n    certificates: ICertificate[];\n    courses: ICourse[];\n    languages: ILanguage[];\n    socials: ISocial[];\n    createdAt: string;\n    updatedAt: string;\n  };\n  userId: string;\n  cvId: string;\n  file: IFile[];\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface ApplicantContextType {\n  applicant?: IApplicantDetails;\n  loading: boolean;\n  error: string | null;\n  firstName: string;\n  setFirstName: (value: string) => void;\n  lastName: string;\n  setLastName: (value: string) => void;\n  email: string;\n  setEmail: (value: string) => void;\n  phone: string;\n  setPhone: (value: string) => void;\n  summary: string;\n  setSummary: (value: string) => void;\n  skills: ISkill[];\n  setSkills: (value: ISkill[]) => void;\n  hobbies: string[];\n  setHobbies: (value: string[]) => void;\n  experience: IExperience[];\n  setExperience: (value: IExperience[]) => void;\n  projects: IProject[];\n  setProjects: (value: IProject[]) => void;\n  educations: IEducation[];\n  setEducations: (value: IEducation[]) => void;\n  certificates: ICertificate[];\n  setCertificates: (value: ICertificate[]) => void;\n  courses: ICourse[];\n  setCourses: (value: ICourse[]) => void;\n  socials: ISocial[];\n  setSocials: (value: ISocial[]) => void;\n  languages: ILanguage[];\n  setLanguages: (value: ILanguage[]) => void;\n  deleteItems: IDelete;\n  setDeleteItems: (value: IDelete) => void;\n  updateApplicant: () => Promise<void>;\n}\n\nconst ApplicantContext = createContext<ApplicantContextType | undefined>(\n  undefined\n);\n\nexport const ApplicantProvider = ({\n  children,\n  id,\n}: {\n  children: ReactNode;\n  id: string;\n}) => {\n  const { data: session, status } = useSession();\n  const [applicant, setApplicant] = useState<IApplicantDetails | undefined>();\n  const [loading, setLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Editable state for each field\n  const [firstName, setFirstName] = useState<string>(\"\");\n  const [lastName, setLastName] = useState<string>(\"\");\n  const [email, setEmail] = useState<string>(\"\");\n  const [phone, setPhone] = useState<string>(\"\");\n  const [summary, setSummary] = useState<string>(\"\");\n  const [skills, setSkills] = useState<ISkill[]>([]);\n  const [hobbies, setHobbies] = useState<string[]>([]);\n  const [experience, setExperience] = useState<IExperience[]>([]);\n  const [projects, setProjects] = useState<IProject[]>([]);\n  const [educations, setEducations] = useState<IEducation[]>([]);\n  const [certificates, setCertificates] = useState<ICertificate[]>([]);\n  const [courses, setCourses] = useState<ICourse[]>([]);\n  const [socials, setSocials] = useState<ISocial[]>([]);\n  const [languages, setLanguages] = useState<ILanguage[]>([]);\n  const [deleteItems, setDeleteItems] = useState<IDelete>({\n    experience: [],\n    education: [],\n    projects: [],\n    courses: [],\n    certificates: [],\n    languages: [],\n    socials: [],\n    skills: [],\n  });\n\n  const fetchApplicant = async () => {\n    setLoading(true);\n    try {\n      if (session?.user?.accessToken) {\n        const response: AxiosResponse<IApplicantDetails> = await apiService.get(\n          `applicant/${id}`\n        );\n        const data = response.data;\n        setApplicant(data);\n\n        setFirstName(data.cv.firstName);\n        setLastName(data.cv.lastName);\n        setEmail(data.cv.email);\n        setPhone(data.cv.phone);\n        setSummary(data.cv.summary);\n        setSkills(data.cv.skills);\n        setHobbies(data.cv.hobbies);\n        setExperience(data.cv.experience);\n        setProjects(data.cv.projects);\n        setEducations(data.cv.educations);\n        setCertificates(data.cv.certificates);\n        setCourses(data.cv.courses);\n        setSocials(data.cv.socials);\n        setLanguages(data.cv.languages);\n      }\n    } catch (err) {\n      setError((err as Error).message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateApplicant = async () => {\n    try {\n      setLoading(true);\n      await apiService.put(`/cv/${applicant?.cv.id}`, {\n        firstName,\n        lastName,\n        email,\n        phone,\n        summary,\n        skills,\n        hobbies,\n        experience,\n        projects,\n        educations,\n        certificates,\n        courses,\n        socials,\n        languages,\n        delete: {\n          expirience: deleteItems.experience,\n          education: deleteItems.education,\n          projects: deleteItems.projects,\n          courses: deleteItems.courses,\n          certificates: deleteItems.certificates,\n          languages: deleteItems.languages,\n          socials: deleteItems.socials,\n          skills: deleteItems.skills,\n        },\n      });\n      fetchApplicant();\n    } catch (err) {\n      setError((err as Error).message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (status === \"authenticated\") {\n      fetchApplicant();\n    }\n  }, [status, session, id]);\n\n  return (\n    <ApplicantContext.Provider\n      value={{\n        applicant,\n        loading,\n        error,\n        firstName,\n        setFirstName,\n        lastName,\n        setLastName,\n        email,\n        setEmail,\n        phone,\n        setPhone,\n        summary,\n        setSummary,\n        skills,\n        setSkills,\n        hobbies,\n        setHobbies,\n        experience,\n        setExperience,\n        projects,\n        setProjects,\n        educations,\n        setEducations,\n        certificates,\n        setCertificates,\n        courses,\n        setCourses,\n        socials,\n        setSocials,\n        languages,\n        setLanguages,\n        deleteItems,\n        setDeleteItems,\n        updateApplicant,\n      }}\n    >\n      {children}\n    </ApplicantContext.Provider>\n  );\n};\n\nexport const useApplicant = () => {\n  const context = useContext(ApplicantContext);\n  if (!context) {\n    throw new Error(\"useApplicant must be used within an ApplicantProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 181, "column": 0}, "map": {"version":3,"sources":["file:///Users/aisabektas/projects/arrow-agency-front/app/applicant/%5Bid%5D/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { use } from \"react\";\nimport { ApplicantProvider } from \"@/providers/ApplicantDetailsProvider\";\n\nexport default function ApplicantDetailsLayout({\n  children,\n  params,\n}: Readonly<{\n  children: React.ReactNode;\n  params: Promise<{ id: string }>;\n}>) {\n  const { id } = use(params); // Unwrap params using `use()`\n\n  return <ApplicantProvider id={id}>{children}</ApplicantProvider>;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,uBAAuB,EAC7C,QAAQ,EACR,MAAM,EAIN;IACA,MAAM,EAAE,EAAE,EAAE,GAAG,CAAA,GAAA,qMAAA,CAAA,MAAG,AAAD,EAAE,SAAS,8BAA8B;IAE1D,qBAAO,8OAAC,sIAAA,CAAA,oBAAiB;QAAC,IAAI;kBAAK;;;;;;AACrC"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}